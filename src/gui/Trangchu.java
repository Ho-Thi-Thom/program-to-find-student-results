package gui;

import client.Client;
import client.Read;
import client.Send;
import com.google.gson.Gson;
import java.io.IOException;
import java.text.DecimalFormat;
import java.util.ArrayList;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableModel;
import javax.swing.table.TableRowSorter;
import model.AllPointId;
import model.AllSub;
import model.AllSub_Credit;
import model.InforStudentData;
import model.Infor_ViThu_BangXepHang;

/**
 *
 * @author HO_THI_THOM
 */
public class Trangchu extends javax.swing.JFrame {

    AllPointId allpointid = null;
    ArrayList<InforStudentData> arlInfor = null;

    /**
     * Creates new form Trangchu1
     */
    public Trangchu() {
        initComponents();
        setLocationRelativeTo(null);
        tblCacMonPhaiHoc.setEnabled(false);
        tblDanhSachXepHang.setEnabled(false);
        setDefault();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jpnNoiDung = new javax.swing.JTabbedPane();
        jpnTraCuuDiem = new javax.swing.JPanel();
        txtNhapMaSoSV_jpnTraCuuDiem = new javax.swing.JTextField();
        btnTimKiem_jpnTraCuuDiem = new javax.swing.JButton();
        jpnThongTinHoc = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        lbDiemTichLuyHe10 = new javax.swing.JLabel();
        lbDiemTichLuyHe4 = new javax.swing.JLabel();
        lbSoTinChiTichLuy = new javax.swing.JLabel();
        lbSoMonDaHoc = new javax.swing.JLabel();
        btnDiemTatCaHocPhan = new javax.swing.JButton();
        jpnThongTinCaNhan = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        lbTenSinhVien = new javax.swing.JLabel();
        lbNgaySinh = new javax.swing.JLabel();
        lbPhai = new javax.swing.JLabel();
        lbLop = new javax.swing.JLabel();
        lbNoiSinh = new javax.swing.JLabel();
        lbKhoaHoc = new javax.swing.JLabel();
        lbNganh = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        lbMaSinhVien = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jpnTienDoHocTap = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        txtNhapMaSoSV_jpnTienDoHocTap = new javax.swing.JTextField();
        jTabbedPane2 = new javax.swing.JTabbedPane();
        jpnCacMonCanHoc = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblCacMonPhaiHoc = new javax.swing.JTable();
        jpnBieuDo = new javax.swing.JPanel();
        jLabel10 = new javax.swing.JLabel();
        lbTienDo = new javax.swing.JLabel();
        btnTimKiem_jpnTienDoHocTapMouseClicked = new javax.swing.JLabel();
        jpnXepHangSinhVien = new javax.swing.JPanel();
        jLabel11 = new javax.swing.JLabel();
        txtNhapMaSoSV_jpnXepHang = new javax.swing.JTextField();
        btnTimKiem_jpnXepHang = new javax.swing.JButton();
        jLabel12 = new javax.swing.JLabel();
        cbKhoa = new javax.swing.JCheckBox();
        cbKhoaHoc = new javax.swing.JCheckBox();
        cbNganh = new javax.swing.JCheckBox();
        jScrollPane2 = new javax.swing.JScrollPane();
        tblDanhSachXepHang = new javax.swing.JTable();
        lbTenSinhVien_jpnXepHang = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        lbThuHang = new javax.swing.JLabel();
        jpnTieuDe = new javax.swing.JPanel();
        lbTrangChu = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Trang chủ");
        setBackground(new java.awt.Color(0, 0, 0));

        jpnNoiDung.setBackground(new java.awt.Color(255, 255, 255));
        jpnNoiDung.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jpnNoiDung.setForeground(new java.awt.Color(0, 0, 102));
        jpnNoiDung.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N

        jpnTraCuuDiem.setForeground(new java.awt.Color(0, 0, 153));

        btnTimKiem_jpnTraCuuDiem.setText("Tìm kiếm");
        btnTimKiem_jpnTraCuuDiem.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnTimKiem_jpnTraCuuDiemMouseClicked(evt);
            }
        });

        jpnThongTinHoc.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Thông tin học tập", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 2, 12), new java.awt.Color(0, 51, 204))); // NOI18N

        jLabel16.setText("Điểm trung bình tích lũy hệ 10 :");

        jLabel17.setText("Điểm trung bình tích lũy hệ 4 :");

        jLabel18.setText("Số tín chỉ tích lũy :");

        jLabel19.setText("Số môn đã học :");

        javax.swing.GroupLayout jpnThongTinHocLayout = new javax.swing.GroupLayout(jpnThongTinHoc);
        jpnThongTinHoc.setLayout(jpnThongTinHocLayout);
        jpnThongTinHocLayout.setHorizontalGroup(
            jpnThongTinHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpnThongTinHocLayout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(jpnThongTinHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jpnThongTinHocLayout.createSequentialGroup()
                        .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lbDiemTichLuyHe10, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jpnThongTinHocLayout.createSequentialGroup()
                        .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lbDiemTichLuyHe4, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jpnThongTinHocLayout.createSequentialGroup()
                        .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lbSoTinChiTichLuy, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jpnThongTinHocLayout.createSequentialGroup()
                        .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lbSoMonDaHoc, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(87, Short.MAX_VALUE))
        );
        jpnThongTinHocLayout.setVerticalGroup(
            jpnThongTinHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpnThongTinHocLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jpnThongTinHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbDiemTichLuyHe10, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbDiemTichLuyHe4, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbSoTinChiTichLuy, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jpnThongTinHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbSoMonDaHoc, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        btnDiemTatCaHocPhan.setFont(new java.awt.Font("Tahoma", 2, 13)); // NOI18N
        btnDiemTatCaHocPhan.setForeground(new java.awt.Color(0, 153, 204));
        btnDiemTatCaHocPhan.setText("Điểm tất cả các học phần");
        btnDiemTatCaHocPhan.setBorder(null);
        btnDiemTatCaHocPhan.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnDiemTatCaHocPhanMouseClicked(evt);
            }
        });

        jpnThongTinCaNhan.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Thông tin cá nhân", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 2, 12), new java.awt.Color(0, 51, 153))); // NOI18N
        jpnThongTinCaNhan.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N

        jLabel1.setText("Lớp :");

        jLabel2.setText("Tên sinh viên :");

        jLabel3.setText("Phái :");

        jLabel4.setText("Ngày sinh:");

        jLabel6.setText("Nơi sinh :");

        jLabel7.setText("Ngành :");

        jLabel9.setText("Khóa học:");

        jLabel5.setText("Mã số sinh viên :");

        javax.swing.GroupLayout jpnThongTinCaNhanLayout = new javax.swing.GroupLayout(jpnThongTinCaNhan);
        jpnThongTinCaNhan.setLayout(jpnThongTinCaNhanLayout);
        jpnThongTinCaNhanLayout.setHorizontalGroup(
            jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpnThongTinCaNhanLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jpnThongTinCaNhanLayout.createSequentialGroup()
                        .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbNganh, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(jpnThongTinCaNhanLayout.createSequentialGroup()
                                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbTenSinhVien, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lbKhoaHoc, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lbLop, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lbNoiSinh, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lbNgaySinh, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lbPhai, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(0, 0, Short.MAX_VALUE)))
                        .addGap(102, 102, 102))
                    .addGroup(jpnThongTinCaNhanLayout.createSequentialGroup()
                        .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(lbMaSinhVien, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );
        jpnThongTinCaNhanLayout.setVerticalGroup(
            jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jpnThongTinCaNhanLayout.createSequentialGroup()
                .addContainerGap(26, Short.MAX_VALUE)
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbMaSinhVien, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbTenSinhVien, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbPhai, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbNgaySinh, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbNoiSinh, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbLop, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbNganh, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jpnThongTinCaNhanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbKhoaHoc, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(26, 26, 26))
        );

        jLabel20.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel20.setText("Nhập mã số sinh viên :");

        javax.swing.GroupLayout jpnTraCuuDiemLayout = new javax.swing.GroupLayout(jpnTraCuuDiem);
        jpnTraCuuDiem.setLayout(jpnTraCuuDiemLayout);
        jpnTraCuuDiemLayout.setHorizontalGroup(
            jpnTraCuuDiemLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jpnTraCuuDiemLayout.createSequentialGroup()
                .addContainerGap(599, Short.MAX_VALUE)
                .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 138, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtNhapMaSoSV_jpnTraCuuDiem, javax.swing.GroupLayout.PREFERRED_SIZE, 171, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnTimKiem_jpnTraCuuDiem)
                .addGap(84, 84, 84))
            .addGroup(jpnTraCuuDiemLayout.createSequentialGroup()
                .addGroup(jpnTraCuuDiemLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jpnTraCuuDiemLayout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addComponent(jpnThongTinCaNhan, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(11, 11, 11)
                        .addComponent(jpnThongTinHoc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jpnTraCuuDiemLayout.createSequentialGroup()
                        .addGap(351, 351, 351)
                        .addComponent(btnDiemTatCaHocPhan, javax.swing.GroupLayout.PREFERRED_SIZE, 378, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jpnTraCuuDiemLayout.setVerticalGroup(
            jpnTraCuuDiemLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpnTraCuuDiemLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jpnTraCuuDiemLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jpnTraCuuDiemLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txtNhapMaSoSV_jpnTraCuuDiem, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(btnTimKiem_jpnTraCuuDiem, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel20, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jpnTraCuuDiemLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jpnThongTinCaNhan, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jpnThongTinHoc, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addComponent(btnDiemTatCaHocPhan, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18))
        );

        jpnNoiDung.addTab("Tra cứu điểm", jpnTraCuuDiem);

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel8.setText("Nhập MSSV :");

        jTabbedPane2.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N

        tblCacMonPhaiHoc.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        jScrollPane1.setViewportView(tblCacMonPhaiHoc);

        javax.swing.GroupLayout jpnCacMonCanHocLayout = new javax.swing.GroupLayout(jpnCacMonCanHoc);
        jpnCacMonCanHoc.setLayout(jpnCacMonCanHocLayout);
        jpnCacMonCanHocLayout.setHorizontalGroup(
            jpnCacMonCanHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 1076, Short.MAX_VALUE)
        );
        jpnCacMonCanHocLayout.setVerticalGroup(
            jpnCacMonCanHocLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 383, Short.MAX_VALUE)
        );

        jTabbedPane2.addTab("Các môn phải học", jpnCacMonCanHoc);

        javax.swing.GroupLayout jpnBieuDoLayout = new javax.swing.GroupLayout(jpnBieuDo);
        jpnBieuDo.setLayout(jpnBieuDoLayout);
        jpnBieuDoLayout.setHorizontalGroup(
            jpnBieuDoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 1076, Short.MAX_VALUE)
        );
        jpnBieuDoLayout.setVerticalGroup(
            jpnBieuDoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 383, Short.MAX_VALUE)
        );

        jTabbedPane2.addTab("Biểu đồ", jpnBieuDo);

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel10.setText("Tiến độ :");

        btnTimKiem_jpnTienDoHocTapMouseClicked.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        btnTimKiem_jpnTienDoHocTapMouseClicked.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        btnTimKiem_jpnTienDoHocTapMouseClicked.setText("Tìm kiếm");
        btnTimKiem_jpnTienDoHocTapMouseClicked.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        btnTimKiem_jpnTienDoHocTapMouseClicked.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnTimKiem_jpnTienDoHocTapMouseClickedMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout jpnTienDoHocTapLayout = new javax.swing.GroupLayout(jpnTienDoHocTap);
        jpnTienDoHocTap.setLayout(jpnTienDoHocTapLayout);
        jpnTienDoHocTapLayout.setHorizontalGroup(
            jpnTienDoHocTapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane2)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jpnTienDoHocTapLayout.createSequentialGroup()
                .addGap(30, 30, 30)
                .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(lbTienDo, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(137, 137, 137)
                .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(txtNhapMaSoSV_jpnTienDoHocTap, javax.swing.GroupLayout.PREFERRED_SIZE, 207, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(42, 42, 42)
                .addComponent(btnTimKiem_jpnTienDoHocTapMouseClicked, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jpnTienDoHocTapLayout.setVerticalGroup(
            jpnTienDoHocTapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpnTienDoHocTapLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jpnTienDoHocTapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jpnTienDoHocTapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(txtNhapMaSoSV_jpnTienDoHocTap, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbTienDo, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnTimKiem_jpnTienDoHocTapMouseClicked, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addComponent(jTabbedPane2))
        );

        jpnNoiDung.addTab("Tiến độ học tập", jpnTienDoHocTap);

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N
        jLabel11.setText("Nhập MSSV :");

        btnTimKiem_jpnXepHang.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N
        btnTimKiem_jpnXepHang.setText("Tìm kiếm");
        btnTimKiem_jpnXepHang.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnTimKiem_jpnXepHangMouseClicked(evt);
            }
        });

        jLabel12.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N
        jLabel12.setText("Tên  sinh viên :");

        cbKhoa.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N
        cbKhoa.setText("Khoa");

        cbKhoaHoc.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N
        cbKhoaHoc.setText("Khóa");

        cbNganh.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N
        cbNganh.setText("Ngành");

        tblDanhSachXepHang.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        tblDanhSachXepHang.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblDanhSachXepHangMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(tblDanhSachXepHang);

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 10)); // NOI18N
        jLabel13.setText("Thứ hạng  :");

        javax.swing.GroupLayout jpnXepHangSinhVienLayout = new javax.swing.GroupLayout(jpnXepHangSinhVien);
        jpnXepHangSinhVien.setLayout(jpnXepHangSinhVienLayout);
        jpnXepHangSinhVienLayout.setHorizontalGroup(
            jpnXepHangSinhVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpnXepHangSinhVienLayout.createSequentialGroup()
                .addGap(286, 286, 286)
                .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(txtNhapMaSoSV_jpnXepHang, javax.swing.GroupLayout.PREFERRED_SIZE, 207, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(cbKhoa)
                .addGap(18, 18, 18)
                .addComponent(cbKhoaHoc)
                .addGap(18, 18, 18)
                .addComponent(cbNganh)
                .addGap(18, 18, 18)
                .addComponent(btnTimKiem_jpnXepHang, javax.swing.GroupLayout.PREFERRED_SIZE, 111, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jpnXepHangSinhVienLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(lbTenSinhVien_jpnXepHang, javax.swing.GroupLayout.PREFERRED_SIZE, 178, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lbThuHang, javax.swing.GroupLayout.PREFERRED_SIZE, 111, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(530, 530, 530))
            .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.TRAILING)
        );
        jpnXepHangSinhVienLayout.setVerticalGroup(
            jpnXepHangSinhVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpnXepHangSinhVienLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jpnXepHangSinhVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtNhapMaSoSV_jpnXepHang, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cbKhoa)
                    .addComponent(cbKhoaHoc)
                    .addComponent(cbNganh)
                    .addComponent(btnTimKiem_jpnXepHang, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(jpnXepHangSinhVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jpnXepHangSinhVienLayout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addGroup(jpnXepHangSinhVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbTenSinhVien_jpnXepHang, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jpnXepHangSinhVienLayout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(jpnXepHangSinhVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(lbThuHang, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel13, javax.swing.GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 376, Short.MAX_VALUE))
        );

        jpnNoiDung.addTab("Xếp hạng sinh viên", jpnXepHangSinhVien);

        jpnTieuDe.setBackground(new java.awt.Color(200, 217, 238));

        lbTrangChu.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        lbTrangChu.setForeground(new java.awt.Color(255, 0, 0));
        lbTrangChu.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbTrangChu.setText("TRA CỨU KẾT QUẢ HỌC TẬP ");
        lbTrangChu.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);

        javax.swing.GroupLayout jpnTieuDeLayout = new javax.swing.GroupLayout(jpnTieuDe);
        jpnTieuDe.setLayout(jpnTieuDeLayout);
        jpnTieuDeLayout.setHorizontalGroup(
            jpnTieuDeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
            .addGroup(jpnTieuDeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jpnTieuDeLayout.createSequentialGroup()
                    .addGap(188, 188, 188)
                    .addComponent(lbTrangChu, javax.swing.GroupLayout.PREFERRED_SIZE, 648, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(188, Short.MAX_VALUE)))
        );
        jpnTieuDeLayout.setVerticalGroup(
            jpnTieuDeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 75, Short.MAX_VALUE)
            .addGroup(jpnTieuDeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jpnTieuDeLayout.createSequentialGroup()
                    .addGap(19, 19, 19)
                    .addComponent(lbTrangChu)
                    .addContainerGap(27, Short.MAX_VALUE)))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jpnNoiDung)
            .addComponent(jpnTieuDe, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jpnTieuDe, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jpnNoiDung, javax.swing.GroupLayout.PREFERRED_SIZE, 503, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnTimKiem_jpnTraCuuDiemMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnTimKiem_jpnTraCuuDiemMouseClicked
        String mssv = txtNhapMaSoSV_jpnTraCuuDiem.getText();
        if (mssv.length() != 0) {
            Send send = new Send(Client.client, mssv + ";tracuuttsinhvien");
            send.start();
            while (true) {
                try {
                    Send.sleep(100);
                } catch (InterruptedException ex) {
                    System.out.println(ex.getMessage());
                }
                if (Read.getTmp() != null) {
                    break;
                }
            }
            if (!Read.getTmp().equals("failed")) {
                setTraCuuThongTin(Read.getTmp());
                Read.setTmp(null);
            } else {
                JOptionPane.showMessageDialog(rootPane, "Mã sinh viên không tồn tại!");
                Read.setTmp(null);
            }
        } else {
            JOptionPane.showMessageDialog(rootPane, "Mời bạn nhập mã số sinh viên cần tìm !");
        }
    }//GEN-LAST:event_btnTimKiem_jpnTraCuuDiemMouseClicked
    public void setTraCuuThongTin(String json) {
        InforStudentData stu = new InforStudentData();
        Gson gson = new Gson();
        stu = gson.fromJson(json, InforStudentData.class);
        allpointid = stu.getAllpoint();
        lbMaSinhVien.setText(stu.getStudenID());
        lbTenSinhVien.setText(stu.getNameStudent());
        lbPhai.setText(stu.getSex());
        lbNoiSinh.setText(stu.getBirthplace());
        lbNgaySinh.setText(stu.getBirthday());
        lbLop.setText(stu.getClasss());
        lbNganh.setText(stu.getBranch());
        lbKhoaHoc.setText(stu.getCourse());
        lbDiemTichLuyHe10.setText(stu.getMark10());
        lbDiemTichLuyHe4.setText(stu.getMark4());
        lbSoTinChiTichLuy.setText(stu.getCredit());
        lbSoMonDaHoc.setText(stu.getNsub());
        //xóa trắng
        txtNhapMaSoSV_jpnTraCuuDiem.setText("");
    }

    private void btnDiemTatCaHocPhanMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnDiemTatCaHocPhanMouseClicked
        String ten = lbTenSinhVien.getText();
        String masv = lbMaSinhVien.getText();
        String phai = lbPhai.getText();
        String noisinh = lbNoiSinh.getText();
        String ngaysinh = lbNgaySinh.getText();
        String lop = lbLop.getText();
        String nganh = lbNganh.getText();
        String khoahoc = lbKhoaHoc.getText();
        String diemtl10 = lbDiemTichLuyHe10.getText();
        String diemtl4 = lbDiemTichLuyHe4.getText();
        String sotinchi = lbSoTinChiTichLuy.getText();
        String somon = lbSoMonDaHoc.getText();
        ChiTietSinhVien sv = new ChiTietSinhVien(masv, ten, phai, noisinh, ngaysinh,
                lop, nganh, khoahoc, diemtl10, diemtl4, sotinchi, somon, allpointid);
        sv.setDefaultCloseOperation(ChiTietSinhVien.HIDE_ON_CLOSE);
        sv.setVisible(true);

    }//GEN-LAST:event_btnDiemTatCaHocPhanMouseClicked
    public void setTraCuuTienDo(String json) {
        AllSub_Credit ar;
        Gson gson = new Gson();
        ar = gson.fromJson(json, AllSub_Credit.class);
        tblCacMonPhaiHoc.setEnabled(false);
        DefaultTableModel model;
        model = (DefaultTableModel) tblCacMonPhaiHoc.getModel();
        tblCacMonPhaiHoc.setRowSorter(new TableRowSorter<TableModel>(model));
        model.setColumnIdentifiers(new Object[]{
            "STT", "Mã Môn Học", "Tên Môn Học", "Số TC"});
        DecimalFormat df = new DecimalFormat();
        df.setMaximumFractionDigits(2);
        float kq = ((float) ar.getCredit() / 150 * 100);
        lbTienDo.setText(df.format(kq) + " %");
        ArrayList<AllSub> arr = ar.getAp();
        int i = 0;
        for (AllSub sub : arr) {
            model.addRow(new Object[]{
                i++, sub.getMamonhoc(), sub.getTenmonhoc(), sub.getSotinchi()
            });
        }
        txtNhapMaSoSV_jpnTienDoHocTap.setText("");

    }
    private void btnTimKiem_jpnTienDoHocTapMouseClickedMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnTimKiem_jpnTienDoHocTapMouseClickedMouseClicked
        String masv = txtNhapMaSoSV_jpnTienDoHocTap.getText();
        if (masv.length() != 0) {
            Send send = new Send(Client.client, masv + ";tracuutiendohoctap");
            send.start();
            while (true) {
                try {
                    send.sleep(100);
                } catch (InterruptedException ex) {
                    System.out.println(ex.getMessage());
                }
                if (Read.getTmp() != null) {
                    break;
                }
            }
            if (!Read.getTmp().equals("failed")) {
                tblCacMonPhaiHoc.setEnabled(true);
                setTraCuuTienDo(Read.getTmp());
                Read.setTmp(null);
            } else {
                JOptionPane.showMessageDialog(rootPane, "Mã sinh viên không tồn tại!");
                Read.setTmp(null);
            }
        } else {
            JOptionPane.showMessageDialog(rootPane, "Mời bạn nhập mã số sinh viên !");
        }
    }//GEN-LAST:event_btnTimKiem_jpnTienDoHocTapMouseClickedMouseClicked
    public void setTraCuuXepHang(String json) {
        Infor_ViThu_BangXepHang ar;
        Gson gson = new Gson();
        ar = gson.fromJson(json, Infor_ViThu_BangXepHang.class);
        DefaultTableModel model;
        model = (DefaultTableModel) tblDanhSachXepHang.getModel();
        tblDanhSachXepHang.setRowSorter(new TableRowSorter<TableModel>(model));
        model.setColumnIdentifiers(new Object[]{
            "STT", "Họ và Tên", "Khóa học", "Ngành học", "Khoa", "Điểm hệ 10"});

        ArrayList<InforStudentData> arr = ar.getArr();
        arlInfor = arr;
        InforStudentData ab = arr.get(10);
        lbTenSinhVien_jpnXepHang.setText(ab.getNameStudent());
        lbThuHang.setText(ar.getVithu() + "");
        int i = 0;
        for (InforStudentData item : arr) {
            model.addRow(new Object[]{
                i++, item.getNameStudent(), item.getKey(), item.getBranch(), item.getFaculty(), item.getMark10()
            });
        }
        txtNhapMaSoSV_jpnXepHang.setText("");
    }
    private void btnTimKiem_jpnXepHangMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnTimKiem_jpnXepHangMouseClicked
        String masv = txtNhapMaSoSV_jpnXepHang.getText();
        String khoa = "k";
        String khoahoc = "k";
        String nganh = "k";
        if (cbKhoa.isSelected()) {
            khoa = "c";
        }
        if (cbKhoaHoc.isSelected()) {
            khoahoc = "c";
        }
        if (cbNganh.isSelected()) {
            nganh = "c";
        }
        Send send = new Send(Client.client, masv + ";tracuuxephang" + ";" + khoa + ";" + khoahoc + ";" + nganh);
        send.start();
        while (true) {
            try {
                send.sleep(100);
            } catch (InterruptedException ex) {
                System.out.println(ex.getMessage());
            }
            if (Read.getTmp() != null) {
                break;
            }
        }
        if (!Read.getTmp().equals("failed")) {
            tblDanhSachXepHang.setEnabled(true);
            setTraCuuXepHang(Read.getTmp());
            Read.setTmp(null);
        } else {
            JOptionPane.showMessageDialog(rootPane, "Mã sinh viên không tồn tại!");
            Read.setTmp(null);
        }
    }//GEN-LAST:event_btnTimKiem_jpnXepHangMouseClicked

    private void tblDanhSachXepHangMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblDanhSachXepHangMouseClicked
        int i = tblDanhSachXepHang.getSelectedRow();
        InforStudentData inf = arlInfor.get(i);
        Send send = new Send(Client.client, inf.getStudenID() + ";tracuudiemchitiet");
        send.start();
        while (true) {
            try {
                send.sleep(100);
            } catch (InterruptedException ex) {
                System.out.println(ex.getMessage());
            }
            if (Read.getTmp() != null) {
                break;
            }
        }
        if (!Read.getTmp().equals("failed")) {
            ChitietSinhVien(inf, Read.getTmp());
            Read.setTmp(null);
        } else {
            JOptionPane.showMessageDialog(rootPane, "Lỗi truyền mã sinh viên!");
            Read.setTmp(null);
        }
    }//GEN-LAST:event_tblDanhSachXepHangMouseClicked
    public void ChitietSinhVien(InforStudentData infor, String json) {
        String ten = infor.getNameStudent();
        String masv = infor.getStudenID();
        String phai = infor.getSex();
        String noisinh = infor.getBirthplace();
        String ngaysinh = infor.getBirthday();
        String lop = infor.getClasss();
        String nganh = infor.getBranch();
        String khoahoc = infor.getCourse();
        String diemtl10 = infor.getMark10();
        String diemtl4 = infor.getMark4();
        String sotinchi = infor.getCredit();

        AllPointId ali = new AllPointId();
        Gson gson = new Gson();
        ali = gson.fromJson(json, AllPointId.class);
        String somon = ali.getId();
        ChiTietSinhVien sv = new ChiTietSinhVien(masv, ten, phai, noisinh, ngaysinh,
                lop, nganh, khoahoc, diemtl10, diemtl4, sotinchi, somon, ali);
        sv.setDefaultCloseOperation(ChiTietSinhVien.HIDE_ON_CLOSE);
        sv.setVisible(true);
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Trangchu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Trangchu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Trangchu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Trangchu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                Client client = new Client("127.0.0.1", 5000);
                try {
                    client.excute();
                } catch (IOException ex) {
                    System.out.println(ex.getMessage());
                }
                new Trangchu().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnDiemTatCaHocPhan;
    private javax.swing.JLabel btnTimKiem_jpnTienDoHocTapMouseClicked;
    private javax.swing.JButton btnTimKiem_jpnTraCuuDiem;
    private javax.swing.JButton btnTimKiem_jpnXepHang;
    private javax.swing.JCheckBox cbKhoa;
    private javax.swing.JCheckBox cbKhoaHoc;
    private javax.swing.JCheckBox cbNganh;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTabbedPane jTabbedPane2;
    private javax.swing.JPanel jpnBieuDo;
    private javax.swing.JPanel jpnCacMonCanHoc;
    private javax.swing.JTabbedPane jpnNoiDung;
    private javax.swing.JPanel jpnThongTinCaNhan;
    private javax.swing.JPanel jpnThongTinHoc;
    private javax.swing.JPanel jpnTienDoHocTap;
    private javax.swing.JPanel jpnTieuDe;
    private javax.swing.JPanel jpnTraCuuDiem;
    private javax.swing.JPanel jpnXepHangSinhVien;
    private javax.swing.JLabel lbDiemTichLuyHe10;
    private javax.swing.JLabel lbDiemTichLuyHe4;
    private javax.swing.JLabel lbKhoaHoc;
    private javax.swing.JLabel lbLop;
    private javax.swing.JLabel lbMaSinhVien;
    private javax.swing.JLabel lbNganh;
    private javax.swing.JLabel lbNgaySinh;
    private javax.swing.JLabel lbNoiSinh;
    private javax.swing.JLabel lbPhai;
    private javax.swing.JLabel lbSoMonDaHoc;
    private javax.swing.JLabel lbSoTinChiTichLuy;
    private javax.swing.JLabel lbTenSinhVien;
    private javax.swing.JLabel lbTenSinhVien_jpnXepHang;
    private javax.swing.JLabel lbThuHang;
    private javax.swing.JLabel lbTienDo;
    private javax.swing.JLabel lbTrangChu;
    private javax.swing.JTable tblCacMonPhaiHoc;
    private javax.swing.JTable tblDanhSachXepHang;
    private javax.swing.JTextField txtNhapMaSoSV_jpnTienDoHocTap;
    private javax.swing.JTextField txtNhapMaSoSV_jpnTraCuuDiem;
    private javax.swing.JTextField txtNhapMaSoSV_jpnXepHang;
    // End of variables declaration//GEN-END:variables

    private void jpnNoiDungMouseClicked(java.awt.event.MouseEvent evt) {

    }

    private void setDefault() {
        lbDiemTichLuyHe10.setText("");
        lbDiemTichLuyHe4.setText("");
        lbKhoaHoc.setText("");
        lbLop.setText("");
        lbMaSinhVien.setText("");
        lbNganh.setText("");
        lbNgaySinh.setText("");
        lbNoiSinh.setText("");

        lbPhai.setText("");
        lbSoMonDaHoc.setText("");
        lbSoTinChiTichLuy.setText("");
        lbTenSinhVien.setText("");

        lbTenSinhVien_jpnXepHang.setText("");
        lbThuHang.setText("");
        lbTienDo.setText("");

    }
}
